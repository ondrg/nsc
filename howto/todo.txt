TODO
 * misto navratovych hodnot pouzivat errno http://linux.die.net/man/3/errno
 * (?) pouzit "static inline" funkce kde je to mozne
